services:
  - type: web
    name: lavalink-server
    runtime: docker
    plan: free  # Change to 'starter' or higher for better performance
    dockerfilePath: ./Dockerfile
    dockerContext: .
    region: oregon  # Change to your preferred region
    
    # Environment variables
    envVars:
      - key: PORT
        value: 10000
      - key: LAVALINK_SERVER_PASSWORD
        value: arbotixop007
      - key: JAVA_TOOL_OPTIONS
        value: "-Xmx512m -Xms256m"
      - key: SPOTIFY_ENABLED
        value: "false"  # Change to "true" if you add tokens
      - key: APPLE_MUSIC_ENABLED
        value: "false"
      - key: DEEZER_ENABLED
        value: "false"
    
    # Health check configuration
    healthCheckPath: /version
    
    # Auto-deploy on push to main branch
    autoDeploy: true
    
    # Disk configuration for logs (optional, requires paid plan)
    # disk:
    #   name: lavalink-data
    #   mountPath: /opt/Lavalink/logs
    #   sizeGB: 1
